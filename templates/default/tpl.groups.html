<script>
	/**
	 * @author Fabian Schmid <fs@studer-raimann.ch>
	 */
	$(document).ready(function () {
		xoctGroup.init('{BASE_URL}');
		xoctWaiter.init();
		xoctGroup.load(function () {
			xoctWaiter.show();
		}, function () {
			xoctWaiter.hide();
		});

		xoctGroupParticipant.init('{BASE_URL}');
		xoctGroupParticipant.load();

		$(document).on('click', '.xoct_group_delete', function () {
			xoctGroup.deleteGroup($(this).parent().data('group-id'), function () {
				xoctWaiter.show();
			}, function () {
				xoctWaiter.hide();
			});
		});

		$(document).on('click', '.xoct_group', function () {
			xoctGroup.selectGroup($(this).data('group-id'));
		});

		$('#xoct_add_new').click(function () {
			var title = $('#group_name').val();
			xoctGroup.create(title, function () {
				xoctWaiter.show()
			}, function () {
				$('#group_name').val('');
				xoctWaiter.hide();
			});

		});

	});
</script>
<div class="row">
	<div class="col-xs-6">
		<h1>{HEADER_GROUPS}</h1>
		<div class="input-group">
			<span class="input-group-addon" id="l_group_name">{L_GROUP_NAME}</span>
			<input id="group_name" type="text" class="form-control" placeholder="{PH_GROUP_NAME}" aria-describedby="l_group_name">
			<span class="input-group-btn"><button class="btn btn-default" id="xoct_add_new" type="button">{BUTTON_GROUP_NAME}</button></span>
		</div>
		<ul id="xoct_groups" class="list-group"></ul>
	</div>
	<div class="col-xs-6">
		<h1>{HEADER_PARTICIPANTS}</h1>
		<div class="input-group">
			<span class="input-group-addon" id="l_filter">{L_FILTER}</span>
			<input id="filter" type="text" class="form-control" placeholder="{PH_FILTER}" aria-describedby="l_filter">
		</div>
	</div>
</div>